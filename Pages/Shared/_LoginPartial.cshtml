@* Pages/Shared/_LoginPartial.cshtml - Conteúdo para a barra de navegação *@
@* Este arquivo é renderizado no _Layout.cshtml quando o usuário está autenticado *@

@using Microsoft.AspNetCore.Authentication

@* Verifica se o usuário atual está autenticado (tem um cookie de autenticação válido) *@
@if (User.Identity?.IsAuthenticated == true)
{
    @* Conteúdo exibido se o usuário está logado *@
    <ul class="navbar-nav">
        <li class="nav-item">
            @* Exibe o nome do usuário. User.Identity.Name pega o valor da ClaimTypes.Name do cookie *@
            @* Na sua aplicação, isso deve ser o UPN ou sAMAccountName que você colocou lá *@
            <a id="manage" class="nav-link text-dark" asp-area="" asp-page="#" title="Gerenciar">Olá @User.Identity?.Name!</a> @* Link fictício ou para uma página de perfil *@
        </li>
        <li class="nav-item">
            @* Formulário para realizar o Logout via POST *@
            @* O asp-page="/Logout" aponta para a página Logout.cshtml *@
            <form id="logoutForm" class="form-inline" asp-area="" asp-page="/Logout" asp-route-returnUrl="@Url.Page("/", new { area = "" })" method="post">
                <button id="logout" type="submit" class="nav-link btn btn-link text-dark border-0">Sair</button> @* Estilizado como link, mas é um botão submit *@
            </form>
        </li>
    </ul>
}
else
{
    @* Conteúdo exibido se o usuário NÃO está logado *@
    @* Na sua aplicação, esta seção não deve ser visível pois páginas requerem login,
       e a página de Login tem um layout diferente que não inclui este partial. *@
}